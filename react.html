<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>Babel Demo</title>
		<style media="screen">
			.messageBox {
				border: 1px solid red;
				margin: 1em;
				padding: 2em;
			}
			.error {
				border-color: red;
				background-color: #eebbbb;
			}
			.success {
				border-color: blue;
				background-color: #bbeebb;
			}
			.hidden {
				display: none;
			}
		</style>
	</head>
	<body>
		<main>
		<div id="content"></div>
		</main>
		<script src="https://unpkg.com/babel-standalone"></script>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/react/15.6.1/react.js" ></script>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/react/15.6.1/react-dom.js" ></script>
		<script type="text/babel" data-presets="react">
			class NameInput extends React.Component {
				constructor(props){
					super(props);
					this.state = {
						message: {
							type: undefined,
							body: "This is the NameInputs error text"
						}
					}
					this.buttonClicked = this.buttonClicked.bind(this);//YUCH
				}
				buttonClicked(evt) {
					let name = this.refs.nameInput.value;
					console.log('name is ', name);
					this.setState({
						message: {
							type: name ? "success" : "error",
							body: name ? "Welcome to React " + name : "You must enter a name!"
						}
					});
				};
				render(){
					let msg = this.state.message;
					return(
					<div>
						<label>Name:<input ref="nameInput" id="name" type="text"/></label>
						<button onClick={this.buttonClicked} id="submit_info">Click Me</button>
						<MessageBox 
							type={msg.type} 
							message={msg.body}/>
					</div>);
				}
			}
			class MessageBox extends React.Component {
				render(){
					return(
					<div className={"messageBox " +  (this.props.type || "hidden")}>
						{this.props.message}
					</div>);
				}
			}
			ReactDOM.render(<NameInput/>,document.getElementById('content'));
		</script>
	</body>
</html>
